var galaxytool=window.galaxytool||{};
galaxytool.Notices={onNoticeSaveFunctions:[],onNoticeSaveFunctionNames:[],countCharacter:function(){require(["dojo/dom","dijit/registry"],function(a,b){var c=b.byId("textcontent").get("value").length;a.byId("cntChars").innerHTML=c})},reset:function(){require(["dojo/dom"],function(a){a.byId("notice_edit").reset();count_character()})},saveNotice:function(){require(["dojo/dom","dojo/request","dojo/dom-form","galaxytool/MessageHandling"],function(a,b,c,d){b.post("ajax/ajax_notices.php?type=update",{data:c.toObject(a.byId("notice_edit")),
handleAs:"json"}).then(function(a){(new d(a,"../images")).showMessages()},function(a){console.log("Error:");console.log(a)})});return!1},updateNotice:function(a,b,c){require(["dojo/dom","dijit/registry","dojo/request","dojo/dom-form","galaxytool/MessageHandling"],function(d,e,f,g,h){f.post("ajax/ajax_notices.php?type=update",{data:g.toObject(d.byId("notice_edit")),handleAs:"json"}).then(function(a){for((new h(a,"../images")).showMessages();0<galaxytool.Notices.onNoticeSaveFunctionNames.length;)a=
galaxytool.Notices.onNoticeSaveFunctionNames.pop(),galaxytool.Notices.onNoticeSaveFunctions[a](b,c)},function(a){console.log("Error:");console.log(a)});e.byId(a).hide()});return!1}};function count_character(){galaxytool.Notices.countCharacter()}function reset(){galaxytool.Notices.reset()}function save_notice(){galaxytool.Notices.saveNotice()}function update_notice(a,b,c){galaxytool.Notices.updateNotice(a,b,c)}require(["dojo/parser","dojo/ready"],function(a,b){b(function(){try{galaxytool.Notices.countCharacter()}catch(a){}})});
galaxytool.Notices.onNoticeSaveFunctions.populateNotice=function(a,b){require(["dojo/dom","dijit/registry"],function(c,d){""!=a&&d.byId(a).set("href","ajax/ajax_notices_read.php?playerid="+b)})};galaxytool.Notices.onNoticeSaveFunctionNames.push("populateNotice");
